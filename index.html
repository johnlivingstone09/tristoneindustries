<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TRI STONE Industries - Payment</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>
  <!-- Landing Page -->
  <div id="landingPage">
    <div class="header">
      <div class="container">
        <div class="logo"><img src="image/TSI logo.png" alt="Company Logo"></div>
        <h1 class="company-name">TRI STONE</h1>
        <p class="company-subtitle">Industries</p>
      </div>
    </div>

    <div class="main-content">
      <div class="container">
        <div class="main-title-box">
          <h2 class="main-title">Join & Become the Top 1% Innovators in IoT & Smart Technology.</h2>
          <p class="main-subtitle">Before it's too late</p>
        </div>

        <div class="register-section">
          <div style="text-align: center;">
            <button class="register-btn" onclick="showPaymentPage()">Register Now</button>
            <div class="price-section">
              <span class="current-price">‚Çπ249</span>
              <span class="original-price">‚Çπ999</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Fixed Bottom Bar -->
    <div class="bottom-bar">
      <div class="bottom-bar-content">
        <div class="fee-details">Workshop Fee: ‚Çπ249 (Limited Time Offer)</div>
        <button class="bottom-register-btn" onclick="showPaymentPage()">Register Now</button>
      </div>
    </div>
  </div>

  <!-- Payment Page -->
  <div id="paymentPage" class="payment-page">
    <div class="payment-header">
      <div class="container">
        <div class="payment-header-content">
          <div class="back-logo" onclick="showLandingPage()" style="cursor:pointer;">‚Üê TRI STONE Industries</div>
          <div class="workshop-logo">IOT Workshop</div>
        </div>
      </div>
    </div>

    <div class="payment-content">
      <div class="payment-form">
        <h2>Secure Payment</h2>
        <form id="registrationForm">
          <div class="form-group">
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" name="fullName" placeholder="Enter your name" required>
          </div>
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
          </div>
          <div class="form-group">
            <label for="phone">Mobile Number</label>
            <input type="tel" id="phone" name="phone" placeholder="Enter your mobile number" required>
          </div>
          <button type="submit" class="pay-btn">Pay ‚Çπ249</button>
        </form>
      </div>

      <div class="program-details">
        <h3>Program Details</h3>
        <div class="detail-item">
          <span class="detail-label">üìÖ Program Date</span>
          <span class="detail-value">Oct 05, 2025</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">‚è∞ Program Time</span>
          <span class="detail-value">10:00 AM - 1:00 PM IST</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">üìç Mode</span>
          <span class="detail-value">Online Workshop</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">üë®‚Äçüéì Instructor</span>
          <span class="detail-value">Arduino Expert</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Page -->
  <div id="successPage" style="display:none;">
    <div class="success-box">
      <h1>‚úÖ Payment Successful</h1>
      <p>Thank you for your payment!<br>Your registration is confirmed.</p>
      <button onclick="redirectToWhatsApp()">Join WhatsApp Community</button>
      <p class="countdown">Redirecting in <span id="timer">5</span> seconds...</p>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    function showPaymentPage() {
      document.getElementById("landingPage").style.display = "none";
      document.getElementById("paymentPage").style.display = "block";
    }

    function showLandingPage() {
      document.getElementById("landingPage").style.display = "block";
      document.getElementById("paymentPage").style.display = "none";
    }

    function showSuccessPage() {
      document.getElementById("paymentPage").style.display = "none";
      document.getElementById("successPage").style.display = "block";

      // Auto redirect countdown
      let seconds = 5;
      let countdown = setInterval(() => {
        document.getElementById("timer").innerText = seconds;
        seconds--;
        if (seconds < 0) {
          clearInterval(countdown);
          redirectToWhatsApp();
        }
      }, 1000);
    }

    function redirectToWhatsApp() {
      window.location.href = "https://chat.whatsapp.com/K36u3OFCVE2DcCr5sF7ZQ5";
    }

    // Razorpay integration
    document.getElementById("registrationForm").addEventListener("submit", function(e){
      e.preventDefault();

      const name = document.getElementById("fullName").value;
      const email = document.getElementById("email").value;
      const phone = document.getElementById("phone").value;

      var options = {
        "key": "rzp_test_RMLp1U4xSLkunP", // Replace with your Razorpay Key ID
        "amount": 24900, // ‚Çπ249 in paise
        "currency": "INR",
        "name": "TRI STONE Industries",
        "description": "IOT Workshop Registration",
        "handler": function (response){
          // Payment successful
          console.log(response);
          showSuccessPage();
        },
        "prefill": {
          "name": name,
          "email": email,
          "contact": phone
        },
        "theme": {
          "color": "#f39c12"
        }
      };

      var rzp1 = new Razorpay(options);
      rzp1.on('payment.failed', function (response){
        alert("Payment failed: " + response.error.description);
      });

      rzp1.open();
    });
  </script>
</body>
</html>

